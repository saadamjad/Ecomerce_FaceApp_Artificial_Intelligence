(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{1168:function(e,t,a){"use strict";a.r(t);var n=a(256),r=a.n(n),s=a(257),l=a(86),o=a(87),c=a(89),i=a(88),u=a(90),g=a(1),d=a.n(g),m=a(522),b=a(523),p=a(509),f=a(549),v=a(510),h=a(444),k=a(450),j=a(258);function E(e){var t=e.tickets;"/tickets/".concat(t.id),"ticket/update/".concat(t.id);return d.a.createElement("tr",{key:t.ticket_list.id.toString()},d.a.createElement("th",{scope:"row"},t.ticket_list.id),d.a.createElement("td",null,t.ticket_list.query),d.a.createElement("td",null,t.ticket_list.patient_firstname+" "+t.ticket_list.patient_last_name),d.a.createElement("td",null,t.ticket_list.assigned_first_name+" "+t.ticket_list.assigned_last_name),d.a.createElement("td",null,t.ticket_list.ward_name))}var N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).getAllTickets=function(){var e=Object(s.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.z)(t);case 2:n=e.sent,console.log(n,"response"),200==n.status?a.setState({isLoaded:!0,items:n.data.result,totalPages:n.data.pages,totalRecords:n.data.count}):404==n.status&&console.warn(n.data.message);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onPageChanged=function(e){var t=e.currentPage;e.totalPages,e.pageLimit;a.getAllTickets(t),console.log(e)},a.state={error:null,isLoaded:!1,items:[],totalPages:0,totalRecords:0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAllTickets(1)}},{key:"render",value:function(){var e,t=this.state.items,a=parseInt(this.state.totalRecords);return 0!==a&&(e=d.a.createElement(k.a,{totalRecords:a,pageLimit:5,pageNeighbours:1,onPageChanged:this.onPageChanged})),d.a.createElement("div",{className:"animated fadeIn"},d.a.createElement(m.a,null,d.a.createElement(b.a,{xl:12},d.a.createElement(p.a,null,d.a.createElement(f.a,null,d.a.createElement("i",{className:"fa fa-align-justify"})," Tickets"),d.a.createElement(v.a,null,d.a.createElement(h.a,{responsive:!0,hover:!0},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{scope:"col"},"Id"),d.a.createElement("th",{scope:"col"},"Subject"),d.a.createElement("th",{scope:"col"},"Patient Name"),d.a.createElement("th",{scope:"col"},"Assignee Name"),d.a.createElement("th",{scope:"col"},"Ward Name"))),d.a.createElement("tbody",null,t.map(function(e,t){return d.a.createElement(E,{key:t,tickets:e})})))),e))))}}]),t}(g.Component);t.default=N},444:function(e,t,a){"use strict";var n=a(34),r=a(247),s=a(1),l=a.n(s),o=a(0),c=a.n(o),i=a(244),u=a.n(i),g=a(246),d={className:c.a.string,cssModule:c.a.object,size:c.a.string,bordered:c.a.bool,borderless:c.a.bool,striped:c.a.bool,dark:c.a.bool,hover:c.a.bool,responsive:c.a.oneOfType([c.a.bool,c.a.string]),tag:g.k,responsiveTag:g.k,innerRef:c.a.oneOfType([c.a.func,c.a.string,c.a.object])},m=function(e){var t=e.className,a=e.cssModule,s=e.size,o=e.bordered,c=e.borderless,i=e.striped,d=e.dark,m=e.hover,b=e.responsive,p=e.tag,f=e.responsiveTag,v=e.innerRef,h=Object(r.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),k=Object(g.g)(u()(t,"table",!!s&&"table-"+s,!!o&&"table-bordered",!!c&&"table-borderless",!!i&&"table-striped",!!d&&"table-dark",!!m&&"table-hover"),a),j=l.a.createElement(p,Object(n.a)({},h,{ref:v,className:k}));if(b){var E=Object(g.g)(!0===b?"table-responsive":"table-responsive-"+b,a);return l.a.createElement(f,{className:E},j)}return j};m.propTypes=d,m.defaultProps={tag:"table",responsiveTag:"div"},t.a=m},450:function(e,t,a){"use strict";var n=a(452),r=a(86),s=a(87),l=a(89),o=a(88),c=a(90),i=a(1),u=a.n(i),g=a(482),d=a(483),m=a(484),b="LEFT",p="RIGHT",f=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,r=[];n<=t;)r.push(n),n+=a;return r},v=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).gotoPage=function(e){var t=a.props.onPageChanged,n=void 0===t?function(e){return e}:t,r=Math.max(0,Math.min(e,a.totalPages)),s={currentPage:r,totalPages:a.totalPages,pageLimit:a.pageLimit,totalRecords:a.totalRecords};a.setState({currentPage:r},function(){return n(s)})},a.handleClick=function(e,t){t.preventDefault(),a.gotoPage(e)},a.handleMoveLeft=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage-2*a.pageNeighbours-1)},a.handleMoveRight=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage+2*a.pageNeighbours+1)},a.fetchPageNumbers=function(){var e=a.totalPages,t=a.state.currentPage,r=a.pageNeighbours,s=2*a.pageNeighbours+3;if(e>s+2){var l=[],o=t-r,c=t+r,i=e-1,u=o>2?o:2,g=c<i?c:i,d=s-(l=f(u,g)).length-1,m=u>2,v=g<i,h=b,k=p;if(m&&!v){var j=f(u-d,u-1);l=[h].concat(Object(n.a)(j),Object(n.a)(l))}else if(!m&&v){var E=f(g+1,g+d);l=[].concat(Object(n.a)(l),Object(n.a)(E),[k])}else m&&v&&(l=[h].concat(Object(n.a)(l),[k]));return[1].concat(Object(n.a)(l),[e])}return f(1,e)};var s=e.totalRecords,c=void 0===s?null:s,i=e.pageLimit,u=void 0===i?30:i,g=e.pageNeighbours,d=void 0===g?0:g;return a.pageLimit="number"===typeof u?u:30,a.totalRecords="number"===typeof c?c:0,a.pageNeighbours="number"===typeof d?Math.max(0,Math.min(d,2)):0,a.totalPages=Math.ceil(a.totalRecords/a.pageLimit),a.state={currentPage:1},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.gotoPage(1)}},{key:"render",value:function(){var e=this;if(console.log(typeof this.totalRecords+" - "+this.totalRecords),!this.totalRecords)return null;if(1===this.totalPages)return null;this.state.currentPage;var t=this.fetchPageNumbers();return u.a.createElement("div",{className:"animated fadeIn"},u.a.createElement(g.a,null,t.map(function(t,a){return t===b?u.a.createElement(d.a,{key:a},u.a.createElement(m.a,{onClick:e.handleMoveLeft,previous:!0,tag:"button"})):t===p?u.a.createElement(d.a,{key:a},u.a.createElement(m.a,{onClick:e.handleMoveRight,next:!0,tag:"button"})):u.a.createElement(d.a,{key:a},u.a.createElement(m.a,{onClick:function(a){return e.handleClick(t,a)},tag:"button"},t))})))}}]),t}(i.Component);t.a=v},452:function(e,t,a){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.d(t,"a",function(){return n})},482:function(e,t,a){"use strict";var n=a(34),r=a(247),s=a(1),l=a.n(s),o=a(0),c=a.n(o),i=a(244),u=a.n(i),g=a(246),d={children:c.a.node,className:c.a.string,listClassName:c.a.string,cssModule:c.a.object,size:c.a.string,tag:g.k,listTag:g.k,"aria-label":c.a.string},m=function(e){var t,a=e.className,s=e.listClassName,o=e.cssModule,c=e.size,i=e.tag,d=e.listTag,m=e["aria-label"],b=Object(r.a)(e,["className","listClassName","cssModule","size","tag","listTag","aria-label"]),p=Object(g.g)(u()(a),o),f=Object(g.g)(u()(s,"pagination",((t={})["pagination-"+c]=!!c,t)),o);return l.a.createElement(i,{className:p,"aria-label":m},l.a.createElement(d,Object(n.a)({},b,{className:f})))};m.propTypes=d,m.defaultProps={tag:"nav",listTag:"ul","aria-label":"pagination"},t.a=m},483:function(e,t,a){"use strict";var n=a(34),r=a(247),s=a(1),l=a.n(s),o=a(0),c=a.n(o),i=a(244),u=a.n(i),g=a(246),d={active:c.a.bool,children:c.a.node,className:c.a.string,cssModule:c.a.object,disabled:c.a.bool,tag:g.k},m=function(e){var t=e.active,a=e.className,s=e.cssModule,o=e.disabled,c=e.tag,i=Object(r.a)(e,["active","className","cssModule","disabled","tag"]),d=Object(g.g)(u()(a,"page-item",{active:t,disabled:o}),s);return l.a.createElement(c,Object(n.a)({},i,{className:d}))};m.propTypes=d,m.defaultProps={tag:"li"},t.a=m},484:function(e,t,a){"use strict";var n=a(34),r=a(247),s=a(1),l=a.n(s),o=a(0),c=a.n(o),i=a(244),u=a.n(i),g=a(246),d={"aria-label":c.a.string,children:c.a.node,className:c.a.string,cssModule:c.a.object,next:c.a.bool,previous:c.a.bool,first:c.a.bool,last:c.a.bool,tag:g.k},m=function(e){var t,a=e.className,s=e.cssModule,o=e.next,c=e.previous,i=e.first,d=e.last,m=e.tag,b=Object(r.a)(e,["className","cssModule","next","previous","first","last","tag"]),p=Object(g.g)(u()(a,"page-link"),s);c?t="Previous":o?t="Next":i?t="First":d&&(t="Last");var f,v=e["aria-label"]||t;c?f="\u2039":o?f="\u203a":i?f="\xab":d&&(f="\xbb");var h=e.children;return h&&Array.isArray(h)&&0===h.length&&(h=null),b.href||"a"!==m||(m="button"),(c||o||i||d)&&(h=[l.a.createElement("span",{"aria-hidden":"true",key:"caret"},h||f),l.a.createElement("span",{className:"sr-only",key:"sr"},v)]),l.a.createElement(m,Object(n.a)({},b,{className:p,"aria-label":v}),h)};m.propTypes=d,m.defaultProps={tag:"a"},t.a=m}}]);
//# sourceMappingURL=75.32bbd27e.chunk.js.map